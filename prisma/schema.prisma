generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Warehouse {
  warehouseOwnerType  String?
  warehouseType       String
  address             String
  googleLocation      String?
  city                String
  state               String
  postalCode          String?
  zone                String
  contactPerson       String
  contactNumber       String
  totalSpaceSqft      Int[]
  offeredSpaceSqft    String?
  numberOfDocks       String?
  clearHeightFt       String?
  compliances         String
  otherSpecifications String?
  ratePerSqft         String
  availability        String?
  uploadedBy          String
  isBroker            String?
  photos              String?
  createdAt           DateTime?      @default(now())
  statusUpdatedAt     DateTime?      @updatedAt @map("status_updated_at")
  id                  Int            @id @default(autoincrement())
  warehouseData       WarehouseData?
}

model WarehouseData {
  id                 Int                    @id @default(autoincrement())
  latitude           Float?
  longitude          Float?
  embedding          Unsupported("vector")?
  warehouseId        Int                    @unique
  fireNocAvailable   Boolean?
  fireSafetyMeasures String?
  landType           String?
  warehouse          Warehouse              @relation(fields: [warehouseId], references: [id], onDelete: Cascade)
}

model Enquiry {
  id          Int       @id @default(autoincrement())
  name        String
  phoneNumber String    @map("phone_number")
  email       String?
  source      String
  createdat   DateTime? @default(now()) @db.Timestamptz(6)
}

model Draft {
  sender_number  String   @id
  status         String
  warehouse_data Json
  image_urls     String[]
  created_at     DateTime @default(now())
}

model MessageLog {
  id            Int      @id @default(autoincrement())
  received_at   DateTime @default(now())
  sender_number String
  message_body  String
  status        String
  error_message String?
  image_url     String?
}

model VerifiedNumber {
  id           Int      @id @default(autoincrement())
  phone_number String   @unique
  name         String
  is_active    Boolean  @default(true)
  created_at   DateTime @default(now())
}

model customer_request {
  id                      BigInt    @id @default(autoincrement())
  full_name               String
  phone_number            String?
  company_name            String?
  preferred_location      String?
  additional_requirements String?
  created_at              DateTime? @default(now()) @db.Timestamptz(6)
}
